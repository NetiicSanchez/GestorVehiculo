/* Modo oscuro elegante para el dashboard de gastos (NGX-Charts) */
.container-fluid {
  padding: 1.25rem;
  background: linear-gradient(180deg, #0f1220 0%, #0b0e1a 100%);
  color: var(--text-light);
  max-width: 100vw;
  overflow-x: hidden;
}

.card {
  background: var(--card-dark);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.04);
  overflow: hidden;
  transition: transform .2s ease, box-shadow .2s ease;
}

.card:hover { box-shadow: 0 16px 40px rgba(0,0,0,0.45); transform: translateY(-2px); }

.card-header {
  background: linear-gradient(90deg, rgba(49,130,206,.2), rgba(99,102,241,.2));
  color: var(--text-light);
  padding: 0.85rem 1rem;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

.card-title { margin: 0; font-weight: 600; letter-spacing: .2px; }

.card-body { padding: 1rem; }

/* Grid responsive de tarjetas */
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
/* Rotar menos las etiquetas del eje X para mejor legibilidad */
::ng-deep .ngx-charts .x.axis .tick text {
  transform: rotate(-30deg);
}
  gap: 1.25rem;
}

/* Contenedor de gráfico: fija altura y centra */
.chart-container {
  width: 100%;
  min-height: 380px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.aggregated-wrapper { margin-bottom: 2rem; }
.aggregated-wrapper {
  margin-bottom: 2rem;
  width: 100%;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  overflow-x: hidden;
}
.aggregated-wrapper .chart-container {
  min-height: 520px;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: hidden;
}

/* Ajustes para ngx-charts 2d */
::ng-deep ngx-charts-bar-vertical-2d { width: 100%; height: auto; max-height: 480px; }

/* Colores de ejes, ticks y grid en modo oscuro */
::ng-deep .ngx-charts .axis .tick text { fill: #cbd5e1 !important; font-size: 12px; }
::ng-deep .ngx-charts .axis .axis-label { fill: #e2e8f0 !important; font-weight: 600; }
/* Líneas de la grilla visibles y fondo de panel transparente */
::ng-deep .ngx-charts .gridline-path { stroke: rgba(76,201,255,0.22) !important; }
::ng-deep .ngx-charts .grid-panel rect { stroke: rgba(76,201,255,0.12) !important; fill: none !important; }

/* Barras: solo estilo común (borde redondeado y sombra). Colores se dan por serie abajo */
::ng-deep .ngx-charts .bar,
::ng-deep .ngx-charts .series rect {
  rx: 6px; ry: 6px;
  stroke-width: 2.25px !important;
  filter: drop-shadow(0 2px 10px rgba(0,0,0,.35));
}

/* Colores por serie usando la clase generada name-<Serie>
  Aplica tanto si la clase está en el rect como en el <g.series> */
/* Combustible */
::ng-deep .ngx-charts .bar.name-Combustible,
::ng-deep .ngx-charts .bar.name-combustible,
::ng-deep .ngx-charts .series.name-Combustible rect,
::ng-deep .ngx-charts .series.name-combustible rect,
::ng-deep .ngx-charts .series[class*="name-Combustible"] rect,
::ng-deep .ngx-charts .series[class*="name-combustible"] rect {
  stroke: #4cc9ff !important;         /* azul cian vivo */
  fill: rgba(76,201,255,0.12) !important;
}

/* Fallback robusto por índice de serie (series-0, series-1, series-2) */
::ng-deep .ngx-charts g.series.series-0 rect {
  stroke: #4cc9ff !important;
  fill: rgba(76,201,255,0.12) !important;
}
::ng-deep .ngx-charts g.series.series-1 rect {
  stroke: #ff7edb !important;
  fill: rgba(255,126,219,0.12) !important;
}
::ng-deep .ngx-charts g.series.series-2 rect {
  stroke: #22d3ee !important;
  fill: rgba(34,211,238,0.10) !important;
}

/* Otros Gastos */
::ng-deep .ngx-charts .bar.name-Otros-Gastos,
::ng-deep .ngx-charts .bar.name-otros-gastos,
::ng-deep .ngx-charts .bar.name-OtrosGastos,
::ng-deep .ngx-charts .bar.name-otrosgastos,
::ng-deep .ngx-charts .series.name-Otros-Gastos rect,
::ng-deep .ngx-charts .series.name-otros-gastos rect,
::ng-deep .ngx-charts .series.name-OtrosGastos rect,
::ng-deep .ngx-charts .series.name-otrosgastos rect,
::ng-deep .ngx-charts .series[class*="name-Otros-Gastos"] rect,
::ng-deep .ngx-charts .series[class*="name-otros-gastos"] rect {
  stroke: #ff7edb !important;         /* magenta pastel */
  fill: rgba(255,126,219,0.12) !important;
}

/* Opcional: Galones en agregados */
::ng-deep .ngx-charts .bar.name-Galones,
::ng-deep .ngx-charts .bar.name-galones,
::ng-deep .ngx-charts .series.name-Galones rect,
::ng-deep .ngx-charts .series.name-galones rect,
::ng-deep .ngx-charts .series[class*="name-Galones"] rect,
::ng-deep .ngx-charts .series[class*="name-galones"] rect {
  stroke: #22d3ee !important;         /* cian brillante */
  fill: rgba(34,211,238,0.10) !important;
}

/* Hover: borde un poco más intenso */
::ng-deep .ngx-charts .bar:hover,
::ng-deep .ngx-charts .series rect:hover {
  stroke-width: 2.75px !important;
  filter: drop-shadow(0 0 10px rgba(76,201,255,.35));
}

/* Tooltip claro como la referencia */
::ng-deep .ngx-charts-tooltip-content {
  background: #ffffff !important;
  color: #0b1220 !important;
  border: 1px solid rgba(12, 18, 32, 0.12) !important;
  box-shadow: 0 12px 32px rgba(0,0,0,.25) !important;
}

/* Forzar barras sólidas en ngx-charts sin modificar el color original */
::ng-deep .ngx-charts-bar rect,
::ng-deep .ngx-charts-series-rect rect {
  opacity: 1 !important;
  filter: none !important;
}
::ng-deep .linear-gradient,
::ng-deep .bar-gradient,
::ng-deep stop {
  stop-opacity: 1 !important;
}

